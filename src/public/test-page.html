<!-- 
  This file is used with 'HTMLWebpack' plugin to test the Quiz app. The js and
  css files generated are linked to this template and then served by the
  Webpack dev server.

  File is put in 'public' folder so as to make webpack-dev-server trigger a full
  reload when it is changed
 -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sample Quiz App</title>
    <style>
      body {
        margin: 0;
        padding: 50px 0;
      }
    </style>
  </head>
  <body>
    <main id="quiz"></main>

    <script>
      /** Put script to be used to test the Quiz app here. */
      const main = document.getElementById("quiz")
      const quizProps = new Quiz.Props({ header: "Your opinion matters" })

      const SAMPLE_QUIZ_OBJECT = {
        metadata: {
          autoSave: false,
          // customSavedData: JSON.stringify({
          //   QUESTION_METADATA_SET: [
          //     '{"selectedOption":"D"}',
          //     '{"selectedOption":"D"}',
          //     '{"selectedOption":"A"}'
          //   ],
          //   ELEMENTS_COUNT: 4
          // }),
          // customSavedData:
          //   '{"QUESTION_METADATA_SET":["{\\"selectedOption\\":\\"B\\"}","{\\"selectedOption\\":\\"C\\"}","{\\"selectedOption\\":\\"A\\"}"],"ELEMENTS_COUNT":4}',
          header: "Test your knowledge",
          storageKey: "kajhaikaahoijldahadai-wof9q0",
          isGlobal: false
        },
        elements: [
          {
            type: "QUESTION",
            props: {
              title:
                "What method can you use to add an item to the end of an array?",
              answer: "B",
              options: ["unshift()", "push()", "pop()", "shift()"],
              feedBackContent:
                "The push() method can be used to add one or more items to the end of an array, as demonstrated in the lesson content."
            }
          },
          {
            type: "CODE_BOARD",
            props: {
              title: "Whatever you think about the following code snippet",
              language: "js",
              content:
                // eslint-disable-next-line quotes
                'function invert(value) {\n  if (typeof value !== "string" || value === "") return 0\n  const highestCharCodeAtValue = 65536\n  const valueLength = value.length\n\n  let invertedValue = ""\n  for (let i = 0; i < valueLength; i++) {\n    const indexToUse = valueLength - 1 - i\n    const charCodeToUse = highestCharCodeAtValue - value.charCodeAt(indexToUse)\n    invertedValue += String.fromCharCode(charCodeToUse)\n  }\n\n  return invertedValue\n}\n'
            }
          },
          {
            type: "QUESTION",
            props: {
              title: "What do you think of my Hashnode Quiz widget?",
              answer: "D",
              options: [
                "It's not a big thing",
                "I won't really care about it",
                "~~I love it since you used `webpack`",
                "Whatever"
              ],
              feedBackContent:
                "~~There's absolutely no reason whatsoever to use `webpack`. Come to think of it, if `webpack` was really a good thing, why does a lot of people not like it at all. It just doesn't sense. So, just don't use `yaml` of `js-yaml`.\n"
            }
          },
          {
            type: "QUESTION",
            props: {
              title: "Do you think I hate food?",
              answer: "D",
              options: [
                "Yes",
                "<>I know for a fact that you don't <b>hate</b>food",
                "~~I love it since you used `webpack`",
                "Whatever"
              ],
              feedBackContent:
                "~~There's absolutely no reason whatsoever to use `webpack`. Come to think of it, if `webpack` was really a good thing, why does a lot of people not like it at all. It just doesn't sense. So, just don't use `yaml` of `js-yaml`.\n"
            }
          }
        ]
      }

      Quiz.create(
        Quiz.Props.define({
          ...SAMPLE_QUIZ_OBJECT,
          submissionCallback(data) {
            console.log(JSON.parse(data))
            console.log(data)
          }
        }),
        main
      )
    </script>
  </body>
</html>
